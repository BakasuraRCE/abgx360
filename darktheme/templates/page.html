{% extends "base.html" %}
{% block html_lang %}{{ page.lang }}{% endblock %}

{% if page.url|length %}
    {% set page_title = page.page_title|striptags if page.page_title else page.title|striptags ~ ' · ' ~ SITENAME %}
{% else %}
    {% set page_title = SITENAME ~ ' · ' ~ SUBTITLE %}
{% endif %}

{% block meta_header %}
    {% if page.summary %}
        <meta name="description" content="{{ page.summary | striptags | safe | truncate(150) }}">
    {% endif %}
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="{{ page_title }}"/>
    {% if not page.headerimage or page.headerimage == '' %}
        <meta name="twitter:image" content="{{ SITEURL }}/static/files/images/og_image_default.png"/>
    {% else %}
        <meta property="twitter:image" content="{{ SITEURL }}{{ page.headerimage }}"/>
    {% endif %}
    {% if page.url|length %}
        <meta property="og:url" content="{{ SITEURL }}/{{ page.slug }}.html"/>
    {% else %}
        <meta property="og:url" content="{{ SITEURL }}/"/>
    {% endif %}
    <meta property="og:title" content="{{ page_title }}"/>
    <meta property="og:description" content="{{ page.summary | striptags | safe | truncate(150) }}"/>
    {% if not page.headerimage or page.headerimage == '' %}
        <meta property="og:image" content="{{ SITEURL }}/static/files/images/og_image_default.png"/>
    {% else %}
        <meta property="og:image" content="{{ SITEURL }}{{ page.headerimage }}"/>
    {% endif %}
    {% if page.url|length %}
        <link rel="canonical" href="{{ SITEURL }}/{{ page.save_as }}"/>
    {% else %}
        <link rel="canonical" href="{{ SITEURL }}/"/>
    {% endif %}

{% endblock %}

{% block title %}{{ page_title }}{% endblock %}

{% block extra_head %}
    {% import 'translations.html' as translations with context %}
    {% if translations.entry_hreflang(page) %}
        {{ translations.entry_hreflang(page) }}
    {% endif %}
{% endblock %}

{% block content %}
    <section id="content" class="container rnd-grad-box border border-light rounded my-2">
        <h1 class="entry-title">{{ page.title }}</h1>
    </section>
    <section id="content" class="container rnd-grad-box border border-light rounded py-2">
        <div class="row">
            <div class="col">
                {% import 'translations.html' as translations with context %}
                {{ translations.translations_for(page) }}
                {{ page.content }}
            </div>
        </div>
    </section>
{% endblock %}
